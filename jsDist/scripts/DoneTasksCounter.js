"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _watchjs = _interopRequireDefault(require("watchjs"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var watch = _watchjs["default"].watch;
var state = {
  count: 0,
  needLongBreak: false
};

var increase = function increase() {
  state.count += 1;

  if (state.count === 4) {
    state.count = 0;
    state.needLongBreak = true;
  }
};

var decrease = function decrease() {
  state.count -= state.count > 0 ? 1 : 0;
};

var render = function render(elements) {
  elements.quantity.textContent = state.count;
};

var doneTasksCounter = function doneTasksCounter() {
  var elements = {
    quantity: document.querySelector('[data-container="quantity"]'),
    increase: document.querySelector('[data-container="increase"]'),
    decrease: document.querySelector('[data-container="decrease"]')
  };
  watch(state, 'count', function () {
    return render(elements);
  });
  elements.increase.addEventListener('click', increase);
  elements.decrease.addEventListener('click', decrease);
  render(elements);
};

var DoneTasksCounter = {
  init: doneTasksCounter,
  increaseDoneTasks: increase,
  needLongBreak: false
};
watch(state, 'needLongBreak', function () {
  DoneTasksCounter.needLongBreak = state.needLongBreak;
});
var _default = DoneTasksCounter;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2pzU3JjL3NjcmlwdHMvRG9uZVRhc2tzQ291bnRlci5qcyJdLCJuYW1lcyI6WyJ3YXRjaCIsIldhdGNoSlMiLCJzdGF0ZSIsImNvdW50IiwibmVlZExvbmdCcmVhayIsImluY3JlYXNlIiwiZGVjcmVhc2UiLCJyZW5kZXIiLCJlbGVtZW50cyIsInF1YW50aXR5IiwidGV4dENvbnRlbnQiLCJkb25lVGFza3NDb3VudGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkRvbmVUYXNrc0NvdW50ZXIiLCJpbml0IiwiaW5jcmVhc2VEb25lVGFza3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztJQUVRQSxLLEdBQVVDLG1CLENBQVZELEs7QUFFUixJQUFNRSxLQUFLLEdBQUc7QUFDWkMsRUFBQUEsS0FBSyxFQUFFLENBREs7QUFFWkMsRUFBQUEsYUFBYSxFQUFFO0FBRkgsQ0FBZDs7QUFLQSxJQUFNQyxRQUFRLEdBQUcsU0FBWEEsUUFBVyxHQUFNO0FBQ3JCSCxFQUFBQSxLQUFLLENBQUNDLEtBQU4sSUFBZSxDQUFmOztBQUNBLE1BQUlELEtBQUssQ0FBQ0MsS0FBTixLQUFnQixDQUFwQixFQUF1QjtBQUNyQkQsSUFBQUEsS0FBSyxDQUFDQyxLQUFOLEdBQWMsQ0FBZDtBQUNBRCxJQUFBQSxLQUFLLENBQUNFLGFBQU4sR0FBc0IsSUFBdEI7QUFDRDtBQUNGLENBTkQ7O0FBUUEsSUFBTUUsUUFBUSxHQUFHLFNBQVhBLFFBQVcsR0FBTTtBQUNyQkosRUFBQUEsS0FBSyxDQUFDQyxLQUFOLElBQWdCRCxLQUFLLENBQUNDLEtBQU4sR0FBYyxDQUFkLEdBQWtCLENBQWxCLEdBQXNCLENBQXRDO0FBQ0QsQ0FGRDs7QUFJQSxJQUFNSSxNQUFNLEdBQUcsU0FBVEEsTUFBUyxDQUFDQyxRQUFELEVBQWM7QUFDM0JBLEVBQUFBLFFBQVEsQ0FBQ0MsUUFBVCxDQUFrQkMsV0FBbEIsR0FBZ0NSLEtBQUssQ0FBQ0MsS0FBdEM7QUFDRCxDQUZEOztBQUlBLElBQU1RLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsR0FBTTtBQUM3QixNQUFNSCxRQUFRLEdBQUc7QUFDZkMsSUFBQUEsUUFBUSxFQUFFRyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsNkJBQXZCLENBREs7QUFFZlIsSUFBQUEsUUFBUSxFQUFFTyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsNkJBQXZCLENBRks7QUFHZlAsSUFBQUEsUUFBUSxFQUFFTSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsNkJBQXZCO0FBSEssR0FBakI7QUFNQWIsRUFBQUEsS0FBSyxDQUFDRSxLQUFELEVBQVEsT0FBUixFQUFpQjtBQUFBLFdBQU1LLE1BQU0sQ0FBQ0MsUUFBRCxDQUFaO0FBQUEsR0FBakIsQ0FBTDtBQUVBQSxFQUFBQSxRQUFRLENBQUNILFFBQVQsQ0FBa0JTLGdCQUFsQixDQUFtQyxPQUFuQyxFQUE0Q1QsUUFBNUM7QUFDQUcsRUFBQUEsUUFBUSxDQUFDRixRQUFULENBQWtCUSxnQkFBbEIsQ0FBbUMsT0FBbkMsRUFBNENSLFFBQTVDO0FBRUFDLEVBQUFBLE1BQU0sQ0FBQ0MsUUFBRCxDQUFOO0FBQ0QsQ0FiRDs7QUFlQSxJQUFNTyxnQkFBZ0IsR0FBRztBQUN2QkMsRUFBQUEsSUFBSSxFQUFFTCxnQkFEaUI7QUFFdkJNLEVBQUFBLGlCQUFpQixFQUFFWixRQUZJO0FBR3ZCRCxFQUFBQSxhQUFhLEVBQUU7QUFIUSxDQUF6QjtBQU1BSixLQUFLLENBQUNFLEtBQUQsRUFBUSxlQUFSLEVBQXlCLFlBQU07QUFDbENhLEVBQUFBLGdCQUFnQixDQUFDWCxhQUFqQixHQUFpQ0YsS0FBSyxDQUFDRSxhQUF2QztBQUNELENBRkksQ0FBTDtlQUllVyxnQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXYXRjaEpTIGZyb20gJ3dhdGNoanMnO1xyXG5cclxuY29uc3QgeyB3YXRjaCB9ID0gV2F0Y2hKUztcclxuXHJcbmNvbnN0IHN0YXRlID0ge1xyXG4gIGNvdW50OiAwLFxyXG4gIG5lZWRMb25nQnJlYWs6IGZhbHNlLFxyXG59O1xyXG5cclxuY29uc3QgaW5jcmVhc2UgPSAoKSA9PiB7XHJcbiAgc3RhdGUuY291bnQgKz0gMTtcclxuICBpZiAoc3RhdGUuY291bnQgPT09IDQpIHtcclxuICAgIHN0YXRlLmNvdW50ID0gMDtcclxuICAgIHN0YXRlLm5lZWRMb25nQnJlYWsgPSB0cnVlO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGRlY3JlYXNlID0gKCkgPT4ge1xyXG4gIHN0YXRlLmNvdW50IC09IChzdGF0ZS5jb3VudCA+IDAgPyAxIDogMCk7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXIgPSAoZWxlbWVudHMpID0+IHtcclxuICBlbGVtZW50cy5xdWFudGl0eS50ZXh0Q29udGVudCA9IHN0YXRlLmNvdW50O1xyXG59O1xyXG5cclxuY29uc3QgZG9uZVRhc2tzQ291bnRlciA9ICgpID0+IHtcclxuICBjb25zdCBlbGVtZW50cyA9IHtcclxuICAgIHF1YW50aXR5OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250YWluZXI9XCJxdWFudGl0eVwiXScpLFxyXG4gICAgaW5jcmVhc2U6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRhaW5lcj1cImluY3JlYXNlXCJdJyksXHJcbiAgICBkZWNyZWFzZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGFpbmVyPVwiZGVjcmVhc2VcIl0nKSxcclxuICB9O1xyXG5cclxuICB3YXRjaChzdGF0ZSwgJ2NvdW50JywgKCkgPT4gcmVuZGVyKGVsZW1lbnRzKSk7XHJcblxyXG4gIGVsZW1lbnRzLmluY3JlYXNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5jcmVhc2UpO1xyXG4gIGVsZW1lbnRzLmRlY3JlYXNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVjcmVhc2UpO1xyXG5cclxuICByZW5kZXIoZWxlbWVudHMpO1xyXG59O1xyXG5cclxuY29uc3QgRG9uZVRhc2tzQ291bnRlciA9IHtcclxuICBpbml0OiBkb25lVGFza3NDb3VudGVyLFxyXG4gIGluY3JlYXNlRG9uZVRhc2tzOiBpbmNyZWFzZSxcclxuICBuZWVkTG9uZ0JyZWFrOiBmYWxzZSxcclxufTtcclxuXHJcbndhdGNoKHN0YXRlLCAnbmVlZExvbmdCcmVhaycsICgpID0+IHtcclxuICBEb25lVGFza3NDb3VudGVyLm5lZWRMb25nQnJlYWsgPSBzdGF0ZS5uZWVkTG9uZ0JyZWFrO1xyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERvbmVUYXNrc0NvdW50ZXI7XHJcbiJdfQ==