"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _watchjs = _interopRequireDefault(require("watchjs"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var watch = _watchjs["default"].watch;
var state = {
  count: 0,
  needLongBreak: false
};

var increase = function increase() {
  state.count += 1;

  if (state.count === 4) {
    state.count = 0;
    state.needLongBreak = true;
    return;
  }

  state.needLongBreak = false;
};

var decrease = function decrease() {
  state.count -= state.count > 0 ? 1 : 0;
};

var render = function render(elements) {
  elements.quantity.textContent = state.count;
};

var doneTasksCounter = function doneTasksCounter() {
  var elements = {
    quantity: document.querySelector('[data-container="quantity"]'),
    increase: document.querySelector('[data-container="increase"]'),
    decrease: document.querySelector('[data-container="decrease"]')
  };
  watch(state, 'count', function () {
    return render(elements);
  });
  elements.increase.addEventListener('click', increase);
  elements.decrease.addEventListener('click', decrease);
  render(elements);
};

var DoneTasksCounter = {
  init: doneTasksCounter,
  increaseDoneTasks: increase,
  needLongBreak: false
};
watch(state, 'needLongBreak', function () {
  DoneTasksCounter.needLongBreak = state.needLongBreak;
});
var _default = DoneTasksCounter;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2pzU3JjL3NjcmlwdHMvRG9uZVRhc2tzQ291bnRlci5qcyJdLCJuYW1lcyI6WyJ3YXRjaCIsIldhdGNoSlMiLCJzdGF0ZSIsImNvdW50IiwibmVlZExvbmdCcmVhayIsImluY3JlYXNlIiwiZGVjcmVhc2UiLCJyZW5kZXIiLCJlbGVtZW50cyIsInF1YW50aXR5IiwidGV4dENvbnRlbnQiLCJkb25lVGFza3NDb3VudGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkRvbmVUYXNrc0NvdW50ZXIiLCJpbml0IiwiaW5jcmVhc2VEb25lVGFza3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztJQUVRQSxLLEdBQVVDLG1CLENBQVZELEs7QUFFUixJQUFNRSxLQUFLLEdBQUc7QUFDWkMsRUFBQUEsS0FBSyxFQUFFLENBREs7QUFFWkMsRUFBQUEsYUFBYSxFQUFFO0FBRkgsQ0FBZDs7QUFLQSxJQUFNQyxRQUFRLEdBQUcsU0FBWEEsUUFBVyxHQUFNO0FBQ3JCSCxFQUFBQSxLQUFLLENBQUNDLEtBQU4sSUFBZSxDQUFmOztBQUNBLE1BQUlELEtBQUssQ0FBQ0MsS0FBTixLQUFnQixDQUFwQixFQUF1QjtBQUNyQkQsSUFBQUEsS0FBSyxDQUFDQyxLQUFOLEdBQWMsQ0FBZDtBQUNBRCxJQUFBQSxLQUFLLENBQUNFLGFBQU4sR0FBc0IsSUFBdEI7QUFDQTtBQUNEOztBQUNERixFQUFBQSxLQUFLLENBQUNFLGFBQU4sR0FBc0IsS0FBdEI7QUFDRCxDQVJEOztBQVVBLElBQU1FLFFBQVEsR0FBRyxTQUFYQSxRQUFXLEdBQU07QUFDckJKLEVBQUFBLEtBQUssQ0FBQ0MsS0FBTixJQUFnQkQsS0FBSyxDQUFDQyxLQUFOLEdBQWMsQ0FBZCxHQUFrQixDQUFsQixHQUFzQixDQUF0QztBQUNELENBRkQ7O0FBSUEsSUFBTUksTUFBTSxHQUFHLFNBQVRBLE1BQVMsQ0FBQ0MsUUFBRCxFQUFjO0FBQzNCQSxFQUFBQSxRQUFRLENBQUNDLFFBQVQsQ0FBa0JDLFdBQWxCLEdBQWdDUixLQUFLLENBQUNDLEtBQXRDO0FBQ0QsQ0FGRDs7QUFJQSxJQUFNUSxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQW1CLEdBQU07QUFDN0IsTUFBTUgsUUFBUSxHQUFHO0FBQ2ZDLElBQUFBLFFBQVEsRUFBRUcsUUFBUSxDQUFDQyxhQUFULENBQXVCLDZCQUF2QixDQURLO0FBRWZSLElBQUFBLFFBQVEsRUFBRU8sUUFBUSxDQUFDQyxhQUFULENBQXVCLDZCQUF2QixDQUZLO0FBR2ZQLElBQUFBLFFBQVEsRUFBRU0sUUFBUSxDQUFDQyxhQUFULENBQXVCLDZCQUF2QjtBQUhLLEdBQWpCO0FBTUFiLEVBQUFBLEtBQUssQ0FBQ0UsS0FBRCxFQUFRLE9BQVIsRUFBaUI7QUFBQSxXQUFNSyxNQUFNLENBQUNDLFFBQUQsQ0FBWjtBQUFBLEdBQWpCLENBQUw7QUFFQUEsRUFBQUEsUUFBUSxDQUFDSCxRQUFULENBQWtCUyxnQkFBbEIsQ0FBbUMsT0FBbkMsRUFBNENULFFBQTVDO0FBQ0FHLEVBQUFBLFFBQVEsQ0FBQ0YsUUFBVCxDQUFrQlEsZ0JBQWxCLENBQW1DLE9BQW5DLEVBQTRDUixRQUE1QztBQUVBQyxFQUFBQSxNQUFNLENBQUNDLFFBQUQsQ0FBTjtBQUNELENBYkQ7O0FBZUEsSUFBTU8sZ0JBQWdCLEdBQUc7QUFDdkJDLEVBQUFBLElBQUksRUFBRUwsZ0JBRGlCO0FBRXZCTSxFQUFBQSxpQkFBaUIsRUFBRVosUUFGSTtBQUd2QkQsRUFBQUEsYUFBYSxFQUFFO0FBSFEsQ0FBekI7QUFNQUosS0FBSyxDQUFDRSxLQUFELEVBQVEsZUFBUixFQUF5QixZQUFNO0FBQ2xDYSxFQUFBQSxnQkFBZ0IsQ0FBQ1gsYUFBakIsR0FBaUNGLEtBQUssQ0FBQ0UsYUFBdkM7QUFDRCxDQUZJLENBQUw7ZUFJZVcsZ0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV2F0Y2hKUyBmcm9tICd3YXRjaGpzJztcclxuXHJcbmNvbnN0IHsgd2F0Y2ggfSA9IFdhdGNoSlM7XHJcblxyXG5jb25zdCBzdGF0ZSA9IHtcclxuICBjb3VudDogMCxcclxuICBuZWVkTG9uZ0JyZWFrOiBmYWxzZSxcclxufTtcclxuXHJcbmNvbnN0IGluY3JlYXNlID0gKCkgPT4ge1xyXG4gIHN0YXRlLmNvdW50ICs9IDE7XHJcbiAgaWYgKHN0YXRlLmNvdW50ID09PSA0KSB7XHJcbiAgICBzdGF0ZS5jb3VudCA9IDA7XHJcbiAgICBzdGF0ZS5uZWVkTG9uZ0JyZWFrID0gdHJ1ZTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgc3RhdGUubmVlZExvbmdCcmVhayA9IGZhbHNlO1xyXG59O1xyXG5cclxuY29uc3QgZGVjcmVhc2UgPSAoKSA9PiB7XHJcbiAgc3RhdGUuY291bnQgLT0gKHN0YXRlLmNvdW50ID4gMCA/IDEgOiAwKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbmRlciA9IChlbGVtZW50cykgPT4ge1xyXG4gIGVsZW1lbnRzLnF1YW50aXR5LnRleHRDb250ZW50ID0gc3RhdGUuY291bnQ7XHJcbn07XHJcblxyXG5jb25zdCBkb25lVGFza3NDb3VudGVyID0gKCkgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnRzID0ge1xyXG4gICAgcXVhbnRpdHk6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRhaW5lcj1cInF1YW50aXR5XCJdJyksXHJcbiAgICBpbmNyZWFzZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udGFpbmVyPVwiaW5jcmVhc2VcIl0nKSxcclxuICAgIGRlY3JlYXNlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250YWluZXI9XCJkZWNyZWFzZVwiXScpLFxyXG4gIH07XHJcblxyXG4gIHdhdGNoKHN0YXRlLCAnY291bnQnLCAoKSA9PiByZW5kZXIoZWxlbWVudHMpKTtcclxuXHJcbiAgZWxlbWVudHMuaW5jcmVhc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbmNyZWFzZSk7XHJcbiAgZWxlbWVudHMuZGVjcmVhc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWNyZWFzZSk7XHJcblxyXG4gIHJlbmRlcihlbGVtZW50cyk7XHJcbn07XHJcblxyXG5jb25zdCBEb25lVGFza3NDb3VudGVyID0ge1xyXG4gIGluaXQ6IGRvbmVUYXNrc0NvdW50ZXIsXHJcbiAgaW5jcmVhc2VEb25lVGFza3M6IGluY3JlYXNlLFxyXG4gIG5lZWRMb25nQnJlYWs6IGZhbHNlLFxyXG59O1xyXG5cclxud2F0Y2goc3RhdGUsICduZWVkTG9uZ0JyZWFrJywgKCkgPT4ge1xyXG4gIERvbmVUYXNrc0NvdW50ZXIubmVlZExvbmdCcmVhayA9IHN0YXRlLm5lZWRMb25nQnJlYWs7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRG9uZVRhc2tzQ291bnRlcjtcclxuIl19